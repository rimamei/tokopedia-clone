(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[37],{1082:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"q",(function(){return s})),n.d(t,"o",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return v})),n.d(t,"n",(function(){return k})),n.d(t,"f",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"r",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"d",(function(){return x})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return N})),n.d(t,"m",(function(){return S}));var a=n(2),i=n(5),r=n(1185),o=n.n(r),l=Object(a.css)("display:block;padding:32px;border:1px solid ",i.z,";border-radius:8px;box-shadow:0 2px 6px 0 rgba(49,53,59,0.16);"),c=Object(a.css)("img{width:130px;height:auto;}"),u=Object(a.css)("min-width:56px;padding-right:10px;padding-left:10px;margin-right:12px;"),d=Object(a.css)("margin-right:-25px;right:0px;transform:rotate(180deg);"),s=Object(a.css)("margin-left:-25px;left:0px;"),m=Object(a.css)("max-height:416px;padding:0 6px 6px;overflow-y:auto;"),p=Object(a.css)("height:600px;@media (min-height:800px){height:660px;}"),f=Object(a.css)("position:relative;"),v=Object(a.css)("height:400px;margin:0 auto;border-radius:8px;overflow:hidden;picture{text-align:center;justify-content:center;img{width:auto;height:auto;max-width:100%;max-height:100%;object-fit:contain;display:inline-block;}}"),k=Object(a.css)("max-height:98px;overflow-y:auto;margin:24px 32px 0 0;text-align left;@media (min-height:800px){max-height:158px;}"),b=Object(a.css)("position:absolute;top:50%;margin-top:-25px;width:50px;height:50px;background:url(",o.a,") center center / 10px 16px no-repeat #fff;border:none;border-radius:50%;box-shadow:0 2px 6px 0 rgba(49,53,59,0.16);outline:none;cursor:pointer;"),h=Object(a.css)("width:400px;"),g=Object(a.css)("display:inline-block;vertical-align:top;width:300px;margin:0 0 8px 10px;line-height:24px;"),y=Object(a.css)("color:",i.H,";"),x=Object(a.css)("float:right;"),w=Object(a.css)("margin:15px 0 0;"),N=Object(a.css)("margin-right:12px;width:160px;"),S=Object(a.css)("width:160px;")},1185:function(e,t){e.exports="https://assets.tokopedia.net/assets-tokopedia-lite/v2/zeus/kratos/5eacfa7e.svg"},1555:function(e,t,n){"use strict";t.a=function(e){return e.replace(/(<script\b[^>]*>([\s\S]*?))?<\/script>/gim,"")}},2494:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(70),o=n(25),l=n(617),c=n(4481),u=n.n(c),d=n(4482),s=n.n(d),m=n(660),p=n(4483),f=n.n(p),v=n(843),k=n(1082);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(c){l=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var g=function(e){var t=e.testId,n=e.layoutTracker,c=e.totalLike,d=e.likeStatus,p=e.reviewId,h=e.shopId,g=e.productId,y=e.isLoggedIn,x=b(Object(a.useContext)(m.a),2)[1],w=b(Object(a.useState)(0),2),N=w[0],S=w[1],I=b(Object(a.useState)(!1),2),E=I[0],O=I[1],D=b(Object(a.useState)(!1),2),j=D[0],A=D[1],T=b(Object(o.c)(f.a),1)[0];return Object(a.useEffect)((function(){S(c),A(1===d)}),[d,c]),i.a.createElement(i.a.Fragment,null,i.a.createElement(r.default,{ghost:!0,small:!0,alternate:!0,className:k.a,loading:E,onClick:function(){Object(l.a)({layoutTracker:n,clickAction:"membantu on ulasan"}),y?(O(!0),T({variables:{shopID:h,reviewID:p,productID:g,likeStatus:j?3:1}}).then((function(e){var t,n,a=e.data,i=e.error;(O(!1),i)||(A(1===(null==a||null===(t=a.toggleProductReviewLike)||void 0===t?void 0:t.likeStatus)),S(null==a||null===(n=a.toggleProductReviewLike)||void 0===n?void 0:n.totalLike))}))):x({type:"SET_SHOW_LOGIN_POPUP",payload:!0})},"data-testid":t},i.a.createElement(v.g,{iconWidth:"17px",iconHeight:"22px",url:j?s.a:u.a}),N>0?" ".concat(N):""))};t.a=Object(a.memo)(g)},2495:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(566),o=n(613),l=n(70),c=n(59),u=n(44),d=n(25),s=n(4484),m=n.n(s),p=n(976),f=n(843),v=n(1082);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(c){l=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var h=1,g=3,y=2,x=20,w=[p.l,p.m,p.n],N=function(e){var t=e.display,n=e.setDisplayModal,s=e.shopId,b=e.selectedReviewId,N=Object(a.useRef)(null),S=Object(a.useContext)(u.a).lang,I=Object(a.useContext)(c.b),E=I.showToaster,O=I.hideToaster,D=k(Object(a.useState)(""),2),j=D[0],A=D[1],T=k(Object(a.useState)(!1),2),C=T[0],R=T[1],L=k(Object(a.useState)(!1),2),V=L[0],$=L[1],P=k(Object(a.useState)(null),2),_=P[0],F=P[1],z=k(Object(d.c)(m.a),1)[0],M=j.length;return i.a.createElement(i.a.Fragment,null,i.a.createElement(r.default,{minWidth:"400px",display:t,zIndex:9999,title:p.k[S],className:v.j,onClose:function(){return n(!1)}},i.a.createElement("div",{className:f.b},[h,y,g].map((function(e,t){return i.a.createElement("div",{key:t},i.a.createElement(o.a,{value:t.toString(),checked:_===e,onClick:function(){return function(e){R(!1),F(e)}(e)},"data-testid":"selectOptionReport".concat(t)}),i.a.createElement("input",{type:"hidden"}),i.a.createElement("div",{className:v.r,"data-testid":"txtOptionReport".concat(t)},i.a.createElement(f.o,{block:!0,error:C},i.a.createElement("p",null,w[t][S]))))})),i.a.createElement(f.e,{minimize:!0,containerHeight:72,display:_===g},i.a.createElement(f.o,{block:!0,error:V&&M<x,wrapperMargin:"10px 0 0"},i.a.createElement("input",{type:"text",placeholder:p.o[S],ref:N,"data-testid":"txtInputReportReason",onChange:function(){var e=N.current.value;A(e),(null==e?void 0:e.length)<x&&$(!0)}}))),(V||C)&&M<x&&i.a.createElement("p",{className:v.e},M>=1&&M<x?p.i[S](20):p.j[S],V&&i.a.createElement("span",{className:v.d},M,"/",x))),i.a.createElement("div",{className:v.k},i.a.createElement(l.default,{main:!0,ghost:!0,medium:!0,className:v.l,"data-testid":"btnCancelReport",onClick:function(){return n(!1)}},p.b[S]),i.a.createElement(l.default,{main:!0,medium:!0,filled:!0,disabled:null===_,className:v.m,onClick:function(){null!==_?_===g&&M<x?$(!0):z({variables:{reasonText:j,shopID:s,reasonCode:_,reviewID:b}}).then((function(e){var t,a,i=e.data,r=null==i||null===(t=i.inboxReviewReportReview)||void 0===t?void 0:t.isSuccesss,o=r?p.p[S]:(null==i||null===(a=i.errors)||void 0===a?void 0:a.message)||"Error";n(!1),E(o,"Ok",O,!r,3e3)})).catch((function(e){var t,a,i,r,o,l,c,u=null==e||null===(t=e.networkError)||void 0===t||null===(a=t.result)||void 0===a||null===(i=a[0])||void 0===i||null===(r=i.errors)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.message,d=null==e||null===(l=e.graphQLErrors)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.message;n(!1),E(u||d,"Ok",O,!0,3e3)})):R(!0)},"data-testid":"btnSubmitReport"},p.t[S]))))};t.a=Object(a.memo)(N)},2496:function(e,t,n){"use strict";var a=n(0),i=n.n(a),r=n(573),o=n(633),l=n(566),c=n(50),u=n(617),d=n(592),s=n.n(d),m=n(1555),p=n(797),f=n(843),v=n(1082);function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var a,i,r=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(r.push(a.value),!t||r.length!==t);o=!0);}catch(c){l=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var h=function(e){var t=e.display,n=e.setDisplayModal,d=e.layoutTracker,b=e.setSelectedImage,h=e.selectedImage,g=e.imageData,y=g.url,x=g.name,w=g.date,N=g.photo,S=g.rating,I=g.message,E=g.isAnonymous,O=g.images,D=k(Object(a.useState)(""),2),j=D[0],A=D[1],T=Object(a.useMemo)((function(){var e,t,n=O.length,a=h||O[0].attachmentId,i=O.findIndex((function(e){return e.attachmentId===a}));return"next"!==j&&"prev"!==j||(i="next"===j?(i+1)%n:(i+n-1)%n),{id:null==O||null===(e=O[i])||void 0===e?void 0:e.attachmentId,imagePreview:(null==O||null===(t=O[i])||void 0===t?void 0:t.imageUrl)||""}}),[h,O,j]),C=T.id,R=T.imagePreview,L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";A(t),b(e)},V=Object(m.a)(I).replace(/\n/g,"<br />");return i.a.createElement(l.default,{display:t,zIndex:9999,padding:"32px 64px",className:v.g,"data-testid":"popupImageCust",onClose:function(){return n(!1)}},i.a.createElement(p.a,{items:[{noShrink:!0,width:"415px",content:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:v.h},i.a.createElement("div",{className:v.i},i.a.createElement(o.a,{alt:"Preview",src:R,"data-testid":"imgPreview"})),O.length>1&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{type:"button",className:"".concat(v.f," ").concat(v.q),onClick:function(){return L(C,"prev")},"data-testid":"btnNextImagePopup"}),i.a.createElement("button",{type:"button",className:"".concat(v.f," ").concat(v.p),onClick:function(){return L(C,"next")},"data-testid":"btnPrevImagePopup"}))),i.a.createElement("div",{className:v.n},i.a.createElement(p.a,{items:[{noShrink:!0,width:"35px",content:i.a.createElement(f.h,{wrapperWidth:"35px",wrapperRadius:"50%",wrapperHeight:"35px"},i.a.createElement(o.a,{alt:"","data-testid":"imgCustProfile",src:N}))},{noShrink:!0,padding:"0 0 0 16px",content:i.a.createElement(i.a.Fragment,null,E?i.a.createElement(c.a,{main:!0,bold:!0,body:3,margin:"0",style:{textAlign:"left"},"data-testid":"txtCustFullName"},x):i.a.createElement(r.default,{fontSize:12,className:f.i,style:{textAlign:"left"},"data-testid":"txtCustFullName",onClick:function(){return e=x,t=y,Object(u.a)({layoutTracker:d,clickAction:"user name on ulasan",eventLabel:e}),void window.location.assign(t);var e,t}},x),i.a.createElement(c.a,{disabled:!0,body:3,margin:"0",style:{textAlign:"left"},"data-testid":"txtDateGivenRate"},i.a.createElement(f.m,{starSize:12,starMargin:"0 10px 0 0",starValue:parseInt(S,10),"data-testid":"icnCustGivenRate".concat(parseInt(S,10))}),w))}]}),i.a.createElement(c.a,{body:2,alternate:!0,margin:"16px 0 0",style:{textAlign:"left"},"data-testid":"txtReview"},i.a.createElement("span",{dangerouslySetInnerHTML:{__html:s()(V,{ALLOWED_TAGS:["br"]})}}))))},{width:"142px",padding:"0 0 0 56px",content:i.a.createElement("div",{className:v.o},O.map((function(e,t){var n=e.imageThumbnailUrl,a=e.attachmentId;return i.a.createElement(f.p,{key:t,role:"button",isActive:a===C,onClick:function(){return L(a)}},i.a.createElement(o.a,{src:n,"data-testid":"imgList",alt:"Product popup ".concat(t+1)}))})))}]}))};t.a=Object(a.memo)(h)},4481:function(e,t){e.exports="https://assets.tokopedia.net/assets-tokopedia-lite/v2/zeus/kratos/dbe185c5.svg"},4482:function(e,t){e.exports="https://assets.tokopedia.net/assets-tokopedia-lite/v2/zeus/kratos/2ec7f9f3.svg"},4483:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"reviewLike"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"likeStatus"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shopID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toggleProductReviewLike"},arguments:[{kind:"Argument",name:{kind:"Name",value:"likeStatus"},value:{kind:"Variable",name:{kind:"Name",value:"likeStatus"}}},{kind:"Argument",name:{kind:"Name",value:"reviewID"},value:{kind:"Variable",name:{kind:"Name",value:"reviewID"}}},{kind:"Argument",name:{kind:"Name",value:"shopID"},value:{kind:"Variable",name:{kind:"Name",value:"shopID"}}},{kind:"Argument",name:{kind:"Name",value:"productID"},value:{kind:"Variable",name:{kind:"Name",value:"productID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likeStatus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalLike"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:208}};n.loc.source={body:"mutation reviewLike($likeStatus:Int!,$reviewID:Int!,$shopID:Int!,$productID:Int!){toggleProductReviewLike( likeStatus:$likeStatus,reviewID:$reviewID,shopID:$shopID,productID:$productID){likeStatus totalLike}}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.reviewLike=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,l=new Set;for(a.forEach((function(e){l.add(e)}));l.size>0;){var c=l;l=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){l.add(e)})))}))}return o.forEach((function(t){var a=r(e,t);a&&n.definitions.push(a)})),n}(n,"reviewLike")},4484:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"reportReview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shopID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reasonCode"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reasonText"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inboxReviewReportReview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"reviewId"},value:{kind:"Variable",name:{kind:"Name",value:"reviewID"}}},{kind:"Argument",name:{kind:"Name",value:"shopId"},value:{kind:"Variable",name:{kind:"Name",value:"shopID"}}},{kind:"Argument",name:{kind:"Name",value:"reasonCode"},value:{kind:"Variable",name:{kind:"Name",value:"reasonCode"}}},{kind:"Argument",name:{kind:"Name",value:"reasonText"},value:{kind:"Variable",name:{kind:"Name",value:"reasonText"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSuccesss"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"mutation reportReview($reviewID:Int!,$shopID:Int!,$reasonCode:Int!,$reasonText:String){inboxReviewReportReview( reviewId:$reviewID,shopId:$shopID,reasonCode:$reasonCode,reasonText:$reasonText){isSuccesss}}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,t)})),e.definitions&&e.definitions.forEach((function(e){a(e,t)}))}var i={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==t)return a}}n.definitions.forEach((function(e){if(e.name){var t=new Set;a(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.reportReview=function(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=i[t]||new Set,o=new Set,l=new Set;for(a.forEach((function(e){l.add(e)}));l.size>0;){var c=l;l=new Set,c.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){l.add(e)})))}))}return o.forEach((function(t){var a=r(e,t);a&&n.definitions.push(a)})),n}(n,"reportReview")}}]);