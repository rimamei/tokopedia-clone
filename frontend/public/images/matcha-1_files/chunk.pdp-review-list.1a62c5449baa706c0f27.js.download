(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[371],{1550:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(44),l=a(660),c=a(179),d=a(50),o=a(1978),s=a.n(o),u=a(976),m=a(1082);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==a)return;var n,i,r=[],l=!0,c=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{l||null==a.return||a.return()}finally{if(c)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var g=function(){var e=Object(n.useContext)(r.a).lang,t=v(Object(n.useContext)(l.a),2)[1];return Object(n.useEffect)((function(){t({type:"SET_ALL_REVIEW_LOADED"})}),[t]),i.a.createElement("div",{className:m.b},i.a.createElement(c.default,{image:s.a,imageAlt:"Toped Illustration",className:m.c,"data-testid":"icnEmptyReview"},i.a.createElement(d.a,{bold:!0,main:!0,body:2,margin:"0","data-testid":"txtEmptyReview"},u.e[e]),i.a.createElement(d.a,{body:2,alternate:!0,margin:"4px 0 0","data-testid":"txtBeFirstReview"},u.d[e])))};t.default=Object(n.memo)(g)},1978:function(e,t){e.exports="https://assets.tokopedia.net/assets-tokopedia-lite/v2/zeus/kratos/6fa168bf.png"},1991:function(e,t,a){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return e.replace(/(https?:\/\/(((www|m)\.)?tokopedia\.(com|link))((\/[A-Za-z0-9\-\_]+)+)?)(\?(([A-Za-z0-9\-\_]+=([A-Za-z0-9\-\_]+)?)&?)+)?/g,t)}},2790:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(586),l=a(50),c=a(733),d=a(25),o=a(44),s=a(660),u=a(617),m=a(1910),v=a.n(m),p=a(4480),g=a.n(p),f=a(976),k=a(843),b=a(573),y=a(633),h=a(577),N=a(5),w=a(592),S=a.n(w),E=a(1151),I=a.n(E),O=a(15),A=a(1991),j=a(797),D=a(2494),F=a(1911),R=function(e){var t=e.shop,a=e.index,r=e.productId,c=e.isLoggedIn,d=e.setImageData,s=e.setDisplayModal,m=e.setSelectedImage,v=e.setSelectedReviewId,p=e.setDisplayReportModal,g=e.item,w=g.user,E=g.message,R=g.reviewId,x=g.isAnonymous,T=g.isReportable,L=g.productRating,P=g.reviewResponse,C=g.reviewCreateTime,_=g.imageAttachments,M=g.likeDislike,V=M.totalLike,$=M.likeStatus,Q=e.layoutTracker,U=Object(n.useContext)(o.a).lang,z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";O.canUseDOM&&(Object(u.a)({layoutTracker:Q,clickAction:"".concat("user"===a?"user name":"shop"," on ulasan"),eventLabel:e}),window.location.assign(t))},W=(E||"").replace(/\n/g,"<br />"),G=Object(n.useMemo)((function(){var e=((null==P?void 0:P.message)||"").replace(/\n/g,"<br />");return Object(A.a)(S()(e,{ALLOWED_TAGS:["br"]}),(function(e){return'<a target="_blank" rel="noopener noreferrer" href="'.concat(I()(e),'">').concat(e,"</a>")}))}),[P]);return i.a.createElement("div",{className:F.b},i.a.createElement("div",{className:F.j},i.a.createElement(j.a,{className:F.h,items:[{width:"48px",height:"48px",noShrink:!0,valign:"center",content:i.a.createElement(k.h,{wrapperWidth:"48px",wrapperRadius:"50%",wrapperHeight:"48px"},i.a.createElement(y.a,{src:null==w?void 0:w.image,alt:null==w?void 0:w.fullName,"data-testid":"icnProfileCustFilter".concat(a)}))},{valign:"center",padding:"0 0 0 16px",content:i.a.createElement(i.a.Fragment,null,x?i.a.createElement(l.a,{main:!0,bold:!0,body:3,margin:"0","data-testid":"txtCustFullNameFilter".concat(a)},null==w?void 0:w.fullName):i.a.createElement(b.default,{fontSize:12,className:k.i,onClick:function(){return z(null==w?void 0:w.fullName,null==w?void 0:w.url,"user")},"data-testid":"txtCustFullNameFilter".concat(a)},null==w?void 0:w.fullName),i.a.createElement(l.a,{disabled:!0,body:3,margin:"0","data-testid":"txtDateGivenReviewFilter".concat(a)},C))}]}),i.a.createElement("div",{className:F.g},i.a.createElement(k.m,{starSize:12,starValue:L,"data-testid":"icnGivenRatingFilter".concat(a,"-").concat(L)}),i.a.createElement(l.a,{body:2,alternate:!0,margin:"3px 0 0",style:{overflowWrap:"break-word"},"data-testid":"txtReviewFilter".concat(a)},i.a.createElement("span",{dangerouslySetInnerHTML:{__html:S()(W,{ALLOWED_TAGS:["br"]})}})),_.map((function(e,t){var n=e.imageThumbnailUrl,l=e.attachmentId;return i.a.createElement(k.h,{isClickable:!0,key:t,wrapperWidth:"60px",wrapperRadius:"4px",wrapperHeight:"60px",wrapperMargin:"10px 10px 10px 0",onClick:function(){return e=l,O.canUseDOM&&Object(u.a)({layoutTracker:Q,clickAction:"review gallery on review list",eventLabel:"product_id: ".concat(r," - review_id: ").concat(R)}),s(!0),m(e),void d({message:E,selectedId:e,isAnonymous:x,url:null==w?void 0:w.url,photo:null==w?void 0:w.image,name:null==w?void 0:w.fullName,rating:L,date:C,images:_});var e}},i.a.createElement(y.a,{src:n,alt:"Product ".concat(t+1),"data-testid":"imgGivenCustReviewFilter".concat(a)}))})),(null==P?void 0:P.message)&&i.a.createElement("div",{className:F.e},i.a.createElement(j.a,{wrapperMargin:"0 0 0 -16px",items:[{noShrink:!0,width:"32px",padding:"4px 0 0",content:i.a.createElement("div",{className:F.d},i.a.createElement(k.h,{wrapperWidth:"32px",wrapperRadius:"50%",wrapperHeight:"32px"},i.a.createElement(y.a,{src:null==t?void 0:t.image,alt:null==t?void 0:t.name,"data-testid":"imgProfileSellerReplyFilter".concat(a)})))},{padding:"0 0 0 12px",content:i.a.createElement("div",{className:F.d},i.a.createElement(b.default,{fontSize:12,className:k.i,"data-testid":"txtSellerNameReplyFilter".concat(a),onClick:function(){return z(null==t?void 0:t.name,null==t?void 0:t.url)}},null==t?void 0:t.name),i.a.createElement(h.default,{textColor:N.j,backgroundColor:N.g,style:{marginLeft:"5px"},"data-testid":"lblSellerReplyFilter".concat(a)},f.s[U]),i.a.createElement(l.a,{disabled:!0,body:3,margin:"0","data-testid":"txtSellerDateReplyFilter".concat(a)},null==P?void 0:P.createTime),i.a.createElement(l.a,{body:2,alternate:!0,margin:"8px 0 0","data-testid":"txtReplySellerFilter".concat(a)},i.a.createElement("span",{className:F.i,dangerouslySetInnerHTML:{__html:G}})))}]}))),i.a.createElement("div",{className:F.h},i.a.createElement(D.a,{index:a,reviewId:R,shopId:null==t?void 0:t.shopId,productId:r,totalLike:V,likeStatus:$,isLoggedIn:c,testId:"btnLikeReview",layoutTracker:Q}),c>0&&T&&i.a.createElement(b.default,{"data-testid":"linkReportReview",fontSize:12,className:k.j,onClick:function(){return e=R,Object(u.a)({layoutTracker:Q,clickAction:"laporkan"}),p(!0),void v(e);var e}},i.a.createElement("b",null,f.k[U])))))},x=Object(n.memo)(R),T=a(1550),L=a(2495),P=a(2496),C=a(1909);function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){V(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==a)return;var n,i,r=[],l=!0,c=!1;try{for(a=a.call(e);!(l=(n=a.next()).done)&&(r.push(n.value),!t||r.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{l||null==a.return||a.return()}finally{if(c)throw i}}return r}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var W=function(e){var t,a,m=e.isLoggedIn,p=e.layoutTracker,b=e.productId,y=e.totalRating,h=e.ratingWithImage,N=e.ratingStar,w=Object(n.useRef)(null),S=Object(n.useContext)(o.a).lang,E=Q(Object(n.useContext)(s.a),2)[1],I=Q(Object(n.useState)({}),2),O=I[0],A=I[1],j=Q(Object(n.useState)(0),2),D=j[0],R=j[1],_=Q(Object(n.useState)(0),2),V=_[0],U=_[1],z=Q(Object(n.useState)("all"),2),W=z[0],G=z[1],H=Q(Object(n.useState)(y),2),q=H[0],B=H[1],Z=Q(Object(n.useState)(0),2),K=Z[0],J=Z[1],X=Q(Object(n.useState)(!1),2),Y=X[0],ee=X[1],te=Q(Object(n.useState)(!1),2),ae=te[0],ne=te[1],ie=Q(Object(n.useState)({rating:0,withAttachment:0}),2),re=ie[0],le=ie[1],ce={page:1,rating:0,withAttachment:0,productID:b,perPage:10},de=Object(d.d)(g.a,{variables:ce}),oe=de.data,se=de.loading,ue=de.fetchMore,me=(null==oe||null===(t=oe.ProductReviewListQuery)||void 0===t?void 0:t.list)||[],ve=(null==oe||null===(a=oe.ProductReviewListQuery)||void 0===a?void 0:a.shop)||{},pe=$(Array(Math.ceil(q/10+1)).keys()).slice(1);Object(n.useEffect)((function(){se||E({type:"SET_LOADING_STATE",payload:{key:"reviewList",value:!1}})}),[se,E]);var ge=function(e){var t="images"===e?1:0,a="number"==typeof e?e:0,n="semua";t?n="dengan foto":a&&(n="".concat(a," star(s)"));var i=a>0?N[a-1]:y,r=t?h:i,l={rating:a,withAttachment:t,page:1},c=M(M({},ce),l);Object(u.a)({layoutTracker:p,clickAction:"filter review by ".concat(n),eventLabel:b}),G(e),le(l),ue({variables:c,updateQuery:function(e,t){var a=t.fetchMoreResult;return a?(R(0),B(r),Object.assign({},e,a)):e}})};return se?i.a.createElement(C.a,{count:3}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:F.f,ref:w},i.a.createElement(l.a,{alternate:!0,body:1,margin:"0",className:F.a},f.f[S]),i.a.createElement(r.default,{className:k.c,"data-testid":"btnFilterAll",onClick:function(){return ge("all")},active:"all"===W},f.a[S]," (",y,")"),i.a.createElement(r.default,{className:k.c,onClick:function(){return ge("images")},"data-testid":"btnFilterWithImage",active:"images"===W},f.u[S]," (",h,")"),[5,4,3,2,1].map((function(e){return i.a.createElement(r.default,{key:e,iconSize:20,icon:v.a,onClick:function(){return ge(e)},active:W===e,"data-testid":"btnFilterRating".concat(e)},e)}))),i.a.createElement("h2",{className:k.l,"data-testid":"lblAllReview"},f.a[S]," ",f.q[S]," (",y,")"),0===me.length&&i.a.createElement(T.default,null),me.map((function(e,t){return i.a.createElement(x,{shop:ve,item:e,key:t,index:t,productId:b,isLoggedIn:m,setImageData:A,setSelectedImage:U,setDisplayModal:ee,setSelectedReviewId:J,setDisplayReportModal:ne})})),me.length>0?i.a.createElement("div",{className:F.c},i.a.createElement(c.default,{items:pe,indexActive:D,onItemClick:function(e){var t=e+1;R(e),ue({variables:M(M(M({},ce),re),{},{page:t,perPage:10}),updateQuery:function(e,t){var a=t.fetchMoreResult;return a?Object.assign({},e,a):e}}),Object(u.a)({layoutTracker:p,clickAction:"ulasan page",eventLabel:t})},"data-testid":"btnSelectPage".concat(D)})):null,Y&&i.a.createElement(P.a,{imageData:O,productId:b,display:Y,selectedImage:V,setSelectedImage:U,setDisplayModal:ee,layoutTracker:p}),i.a.createElement(L.a,{shopId:ve.shopId,isLoggedIn:m,display:ae,selectedReviewId:K,setDisplayModal:ne,layoutTracker:p}),i.a.createElement("div",{className:k.d}))};t.default=Object(n.memo)(W)},4480:function(e,t){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PDPReviewListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"perPage"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rating"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"withAttachment"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ProductReviewListQuery"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productId"},value:{kind:"Variable",name:{kind:"Name",value:"productID"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"perPage"},value:{kind:"Variable",name:{kind:"Name",value:"perPage"}}},{kind:"Argument",name:{kind:"Name",value:"rating"},value:{kind:"Variable",name:{kind:"Name",value:"rating"}}},{kind:"Argument",name:{kind:"Name",value:"withAttachment"},value:{kind:"Variable",name:{kind:"Name",value:"withAttachment"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shop"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"shopId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"list"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"productRating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewCreateTime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewCreateTimestamp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isReportable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAnonymous"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageAttachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachmentId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageThumbnailUrl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewResponse"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createTime"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"likeDislike"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalLike"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"likeStatus"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:508}};a.loc.source={body:"query PDPReviewListQuery($productID:Int!,$page:Int!,$perPage:Int!,$rating:Int!,$withAttachment:Int!,){ProductReviewListQuery( productId:$productID,page:$page,perPage:$perPage,rating:$rating,withAttachment:$withAttachment,){shop{shopId name image url}list{reviewId message productRating reviewCreateTime reviewCreateTimestamp isReportable isAnonymous imageAttachments{attachmentId imageUrl imageThumbnailUrl}reviewResponse{message createTime}likeDislike{totalLike likeStatus}user{userId fullName image url}}}}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function r(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}a.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=a,e.exports.PDPReviewListQuery=function(e,t){var a={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var n=i[t]||new Set,l=new Set,c=new Set;for(n.forEach((function(e){c.add(e)}));c.size>0;){var d=c;c=new Set,d.forEach((function(e){l.has(e)||(l.add(e),(i[e]||new Set).forEach((function(e){c.add(e)})))}))}return l.forEach((function(t){var n=r(e,t);n&&a.definitions.push(n)})),a}(a,"PDPReviewListQuery")}}]);