(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[537],{1032:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"h",(function(){return d})),n.d(e,"m",(function(){return s})),n.d(e,"k",(function(){return l})),n.d(e,"l",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"f",(function(){return b})),n.d(e,"e",(function(){return h})),n.d(e,"g",(function(){return m})),n.d(e,"d",(function(){return v})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return y}));var r=n(1239),a=function(t){var e=(t||[]).map((function(t){var e;return null==t||null===(e=t.option)||void 0===e?void 0:e.value}));return e.length>1?e.join(" - "):e.length?e.join(""):""},i=function(t,e){var n="chat";return t?n="chat - search chat":e&&(n="broadcast"),n},o=function(t){return t?"broadcast - ".concat(t):"chat"},c=function(t){return Object(r.a)("clickInboxChat","inbox-chat","click on chat button","chat widget - ".concat(t))},u=function(){return Object(r.a)("clickChatDetail","chat detail","click on order progress card","seller")},d=function(){return Object(r.a)("clickChatDetail","chat detail","click on lihat detail pesanan","seller")},s=function(){return Object(r.a)("clickChatDetail","chat detail","click cta on order progress card","seller - terima pesanan")},l=function(){return Object(r.a)("clickChatDetail","chat detail","click cta on order detail","seller - terima pesanan")},f=function(){return Object(r.a)("clickChatDetail","chat detail","click on terima pesanan button","seller - pop up")},p=function(){return Object(r.a)("clickChatDetail","chat detail","click on lihat semua pesanan","seller")},b=function(t){var e=t.source,n=t.productId;return Object(r.a)("clickChatDetail","chat detail","add wishlist - ".concat(e),"".concat(n))},h=function(t){var e=t.source,n=t.productId;return Object(r.a)("clickChatDetail","chat detail","remove wishlist - ".concat(e),"".concat(n))},m=function(t){var e=t.isSearch,n=t.blastId,c=t.prodName,u=t.prodId,d=t.prodPrice,s=t.position,l=t.variant,f=i(e,n),p=o(n);return Object(r.c)("productView","chat detail","view on product thumbnail",p,{currencyCode:"IDR",impressions:[{name:c,id:u,price:d,brand:"",category:"",variant:a(l),list:"/".concat(f),position:s}]})},v=function(t){var e=t.blastId,n=t.isSearch,c=t.prodName,u=t.prodId,d=t.prodPrice,s=t.position,l=t.variant,f=i(n,e),p=o(e);return Object(r.c)("productClick","chat detail","click on product thumbnail",p,{click:{actionField:{list:"/".concat(f)},products:[{name:c,id:u,price:d,brand:"",category:"",variant:a(l),list:"/".concat(f),position:s}]}})},g=function(t){var e=t.eventAction,n=t.blastId,c=t.isSearch,u=t.prodName,d=t.prodId,s=t.prodPrice,l=t.shopId,f=t.isGold,p=t.isOfficial,b=t.shopName,h=t.cartId,m=t.variant,v="reguler";p?v="official_store":f&&(v="gold_merchant");var g=i(c,n),O=o(n);return Object(r.c)("addToCart","chat detail",e,O,{currencyCode:"IDR",add:{products:[{name:u,id:d,price:s,brand:"",category:"",variant:a(m),quantity:1,dimension128:l,dimension130:v,dimension129:b,dimension82:h,dimension81:"/".concat(g)}]}})},O=function(t){var e=t.blastId,n=t.isSearch,r=t.prodName,a=t.prodId,i=t.prodPrice,o=t.shopId,c=t.isGold,u=t.isOfficial,d=t.shopName,s=t.cartId,l=t.variant;return g({eventAction:"click atc on product thumbnail",blastId:e,isSearch:n,prodName:r,prodId:a,prodPrice:i,shopId:o,isGold:c,isOfficial:u,shopName:d,cartId:s,variant:l})},y=function(t){var e=t.blastId,n=t.isSearch,r=t.prodName,a=t.prodId,i=t.prodPrice,o=t.shopId,c=t.isGold,u=t.isOfficial,d=t.shopName,s=t.cartId,l=t.variant;return g({eventAction:"click buy on product thumbnail",blastId:e,isSearch:n,prodName:r,prodId:a,prodPrice:i,shopId:o,isGold:c,isOfficial:u,shopName:d,cartId:s,variant:l})}},1160:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n(12),a=n(0),i=n.n(a),o={isUpdateChatList:{socketData:{}},setUpdatedChatList:n(106).a},c=Object(a.createContext)(o),u=function(t){var e=t.children,n=Object(a.useState)({socketData:{}}),o=Object(r.a)(n,2),u=o[0],d=o[1];return i.a.createElement(c.Provider,{value:{isUpdateChatList:u,setUpdatedChatList:d}},e)}},1161:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n(12),a=n(0),i=n.n(a),o={sendingItem:{type:"",url:"",timestamp:0,msgId:0},setSendingItem:n(106).a},c=Object(a.createContext)(o),u=function(t){var e=t.children,n=Object(a.useState)(o.sendingItem),u=Object(r.a)(n,2),d=u[0],s=u[1];return i.a.createElement(c.Provider,{value:{sendingItem:d,setSendingItem:s}},e)}},1239:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}));var r=function(t,e,n,r,a){return{event:t,eventCategory:e,eventAction:n,eventLabel:r,ecommerce:a}},a=function(t,e,n,r,a){window.dataLayer&&window.dataLayer.push({event:t,eventCategory:e,eventAction:n,eventLabel:r,ecommerce:a})},i=function(t){window.dataLayer&&window.dataLayer.push(t)}},3523:function(t,e){t.exports="https://assets.tokopedia.net/assets-tokopedia-lite/v2/zeus/kratos/57d0f05a.svg"},3524:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NotificationQuery"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"notifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chat"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unreads"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadsSeller"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unreadsUser"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:79}};n.loc.source={body:"query NotificationQuery{notifications{chat{unreads unreadsSeller unreadsUser}}}",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(t,e){if("FragmentSpread"===t.kind)e.add(t.name.value);else if("VariableDefinition"===t.kind){var n=t.type;"NamedType"===n.kind&&e.add(n.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){r(t,e)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){r(t,e)})),t.definitions&&t.definitions.forEach((function(t){r(t,e)}))}var a={};function i(t,e){for(var n=0;n<t.definitions.length;n++){var r=t.definitions[n];if(r.name&&r.name.value==e)return r}}n.definitions.forEach((function(t){if(t.name){var e=new Set;r(t,e),a[t.name.value]=e}})),t.exports=n,t.exports.NotificationQuery=function(t,e){var n={kind:t.kind,definitions:[i(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var r=a[e]||new Set,o=new Set,c=new Set;for(r.forEach((function(t){c.add(t)}));c.size>0;){var u=c;c=new Set,u.forEach((function(t){o.has(t)||(o.add(t),(a[t]||new Set).forEach((function(t){c.add(t)})))}))}return o.forEach((function(e){var r=i(t,e);r&&n.definitions.push(r)})),n}(n,"NotificationQuery")},3525:function(t,e,n){"use strict";var r=n(0),a=n.n(r),i=n(4),o=Object(i.a)({resolved:{},chunkName:function(){return"chat-widget-view"},isReady:function(t){var e=this.resolve(t);return!1!==this.resolved[e]&&!!n.m[e]},importAsync:function(){return Promise.all([n.e(0),n.e(51),n.e(539),n.e(134)]).then(n.bind(null,2549))},requireAsync:function(t){var e=this,n=this.resolve(t);return this.resolved[n]=!1,this.importAsync(t).then((function(t){return e.resolved[n]=!0,t}))},requireSync:function t(e){var r=this.resolve(e);return n(r)},resolve:function t(){return 2549}},{ssr:!1});e.a=function(t){return a.a.createElement(o,t)}},582:function(t,e,n){"use strict";n.d(e,"w",(function(){return r})),n.d(e,"x",(function(){return a})),n.d(e,"y",(function(){return i})),n.d(e,"z",(function(){return o})),n.d(e,"A",(function(){return c})),n.d(e,"D",(function(){return u})),n.d(e,"C",(function(){return d})),n.d(e,"B",(function(){return s})),n.d(e,"q",(function(){return l})),n.d(e,"r",(function(){return f})),n.d(e,"mb",(function(){return p})),n.d(e,"i",(function(){return b})),n.d(e,"g",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"j",(function(){return v})),n.d(e,"h",(function(){return g})),n.d(e,"n",(function(){return O})),n.d(e,"m",(function(){return y})),n.d(e,"l",(function(){return S})),n.d(e,"f",(function(){return k})),n.d(e,"X",(function(){return j})),n.d(e,"V",(function(){return I})),n.d(e,"W",(function(){return C})),n.d(e,"kc",(function(){return x})),n.d(e,"ic",(function(){return w})),n.d(e,"jc",(function(){return E})),n.d(e,"pc",(function(){return N})),n.d(e,"qc",(function(){return D})),n.d(e,"nc",(function(){return P})),n.d(e,"oc",(function(){return A})),n.d(e,"lc",(function(){return R})),n.d(e,"mc",(function(){return T})),n.d(e,"Hb",(function(){return L})),n.d(e,"Gb",(function(){return _})),n.d(e,"Qb",(function(){return M})),n.d(e,"bc",(function(){return U})),n.d(e,"ac",(function(){return B})),n.d(e,"Zb",(function(){return F})),n.d(e,"Fb",(function(){return q})),n.d(e,"b",(function(){return G})),n.d(e,"e",(function(){return V})),n.d(e,"c",(function(){return H})),n.d(e,"d",(function(){return K})),n.d(e,"Kb",(function(){return W})),n.d(e,"Ob",(function(){return z})),n.d(e,"Pb",(function(){return Q})),n.d(e,"Lb",(function(){return Y})),n.d(e,"Nb",(function(){return J})),n.d(e,"Mb",(function(){return X})),n.d(e,"I",(function(){return Z})),n.d(e,"J",(function(){return $})),n.d(e,"L",(function(){return tt})),n.d(e,"K",(function(){return et})),n.d(e,"a",(function(){return nt})),n.d(e,"ec",(function(){return rt})),n.d(e,"H",(function(){return at})),n.d(e,"G",(function(){return it})),n.d(e,"wb",(function(){return ot})),n.d(e,"v",(function(){return ct})),n.d(e,"u",(function(){return ut})),n.d(e,"s",(function(){return dt})),n.d(e,"t",(function(){return st})),n.d(e,"ib",(function(){return lt})),n.d(e,"jb",(function(){return ft})),n.d(e,"lb",(function(){return pt})),n.d(e,"kb",(function(){return bt})),n.d(e,"vb",(function(){return ht})),n.d(e,"sb",(function(){return mt})),n.d(e,"ub",(function(){return vt})),n.d(e,"rb",(function(){return gt})),n.d(e,"tb",(function(){return Ot})),n.d(e,"U",(function(){return yt})),n.d(e,"Ub",(function(){return St})),n.d(e,"Yb",(function(){return kt})),n.d(e,"Xb",(function(){return jt})),n.d(e,"Vb",(function(){return It})),n.d(e,"Wb",(function(){return Ct})),n.d(e,"Cb",(function(){return xt})),n.d(e,"Db",(function(){return wt})),n.d(e,"hc",(function(){return Et})),n.d(e,"O",(function(){return Nt})),n.d(e,"P",(function(){return Dt})),n.d(e,"Q",(function(){return Pt})),n.d(e,"R",(function(){return At})),n.d(e,"qb",(function(){return Rt})),n.d(e,"nb",(function(){return Tt})),n.d(e,"pb",(function(){return Lt})),n.d(e,"ob",(function(){return _t})),n.d(e,"gc",(function(){return Mt})),n.d(e,"fc",(function(){return Ut})),n.d(e,"o",(function(){return Bt})),n.d(e,"p",(function(){return Ft})),n.d(e,"xb",(function(){return qt})),n.d(e,"Bb",(function(){return Gt})),n.d(e,"Ab",(function(){return Vt})),n.d(e,"yb",(function(){return Ht})),n.d(e,"zb",(function(){return Kt})),n.d(e,"rc",(function(){return Wt})),n.d(e,"cc",(function(){return zt})),n.d(e,"Eb",(function(){return Qt})),n.d(e,"eb",(function(){return Yt})),n.d(e,"db",(function(){return Jt})),n.d(e,"dc",(function(){return Xt})),n.d(e,"N",(function(){return Zt})),n.d(e,"Rb",(function(){return $t})),n.d(e,"Sb",(function(){return te})),n.d(e,"Tb",(function(){return ee})),n.d(e,"bb",(function(){return ne})),n.d(e,"ab",(function(){return re})),n.d(e,"cb",(function(){return ae})),n.d(e,"T",(function(){return ie})),n.d(e,"S",(function(){return oe})),n.d(e,"M",(function(){return ce})),n.d(e,"E",(function(){return ue})),n.d(e,"gb",(function(){return de})),n.d(e,"fb",(function(){return se})),n.d(e,"Y",(function(){return le})),n.d(e,"Z",(function(){return fe})),n.d(e,"hb",(function(){return pe})),n.d(e,"F",(function(){return be})),n.d(e,"Ib",(function(){return he})),n.d(e,"Jb",(function(){return me}));var r="AttachInvoice",a="AttachProduct",i="AttachVoucher",o="ChatSetting",c="DeleteChat",u="ReportUser",d="MarkUnread",s="MarkRead",l="1",f="2",p=3,b=1,h=2,m=3,v=4,g=7,O=11,y=21,S=24,k=[b,h,m,v,g,O,y],j=1,I=[0,2,3,10],C=24,x=2,w=0,E="Semua",N=1,D="Gratis Ongkir",P=2,A="Diskon",R=3,T="Cashback",L=1,_=2,M=[0,3],U=1,B=4,F=24,q=1,G=1,V=2,H=3,K=4,W=103,z=203,Q=204,Y=301,J=800,X=999,Z="buyer",$="seller",tt="tokocabang",et=[$,tt],nt=[Z,$,tt],rt="https://www.tokopedia.com",at=1,it=0,ot="With Order Progress",ct=1,ut=2,dt=3,st=4,lt="chat_onboarding_autoreply",ft="chat_onboarding_smartreply",pt="chat_onboarding_topbot",bt="chat_onboarding_topbot_smart",ht="User",mt="Shop Owner",vt="Tokopedia Administrator",gt="user",Ot="shop",yt="https://gql.tokopedia.com",St=1,kt=2,jt=3,It=4,Ct=5,xt=2,wt=1,Et={SEMUA_PESANAN:[],PESANAN_BARU:[220],SIAP_DIKIRIM:[400],DALAM_PENGIRIMAN:[450,500,501,520,530,550,600,601],PESANAN_SELESAI:[690,691,695,698,699,700,701],PESANAN_DIBATALKAN:[0,2,4,10,11]},Nt=600,Dt=699,Pt=220,At=400,Rt=0,Tt=-1,Lt=1,_t=2,Mt=2,Ut="topbot",Bt="auto_reply",Ft="blast_seller",qt="B",Gt="TC",Vt="SR",Ht="BO",Kt="PT",Wt="WE",zt="TO",Qt="SC",Yt=200,Jt=300,Xt=["Pantau performa Smart Reply kamu","Aktifkan Smart Reply","Cek tampilan Smart Reply-mu"],Zt=["Cek berapa kali Smart Reply kamu terpakai dan pesanan yang dihasilkan selama 30 hari terakhir.","Setelah diaktifkan, Smart Reply akan menjawab otomatis pertanyaan mengenai stok produk.","Lihat jawaban Smart Reply yang nanti akan tampil di chat kamu dan pembeli."],$t=0,te=1,ee="chat_sticker_uid",ne="scrollup",re="scrolldown",ae="1",ie="unread",oe="read",ce=0,ue=1,de="Kamu hanya bisa tempel maks. 3 chat",se=3,le="allowed",fe="reviewed",pe="notAllowed",be="Oops, kamu tidak bisa laporkan pengguna yang belum pernah chat dengan kamu.",he="Stok Tersedia",me="Stok Kosong"},596:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f}));var r=n(21),a=n(100),i=n(0),o=n.n(i),c=n(582),u=n(106);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=Object(i.createContext)({attachedData:{},bottom:0,rolloutFeatureVariants:[],lang:"id",gqlHostGo:"",noButton:!1,type:"buyer",userId:0,isTypeBuyer:!1,isTypeSeller:!1,gtmPushObject:u.a,onShowToaster:u.a}),f=function(t){var e=t.attachedData,n=t.bottom,r=t.children,i=t.rolloutFeatureVariants,d=t.lang,f=t.gqlHostGo,p=t.noButton,b=t.type,h=t.userId,m=t.onShowToaster,v=t.gtmPushObject,g=Object(a.a)(t,["attachedData","bottom","children","rolloutFeatureVariants","lang","gqlHostGo","noButton","type","userId","onShowToaster","gtmPushObject"]),O=p||!1,y=e||{},S=n||40,k=d||"id",j=h||-1,I=i||[],C=f||c.U,x=c.a.includes(b||"")?b:c.I,w=c.K.includes(x||""),E=x===c.I,N=null!=v?v:u.a,D=null!=m?m:u.a;return o.a.createElement(l.Provider,{value:s({noButton:O,attachedData:y,bottom:S,isTypeBuyer:E,isTypeSeller:w,lang:k,rolloutFeatureVariants:I,onShowToaster:D,gqlHostGo:C,type:x,userId:j,gtmPushObject:N},g)},r)}},664:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n(12),a=n(0),i=n.n(a),o=n(106),c=Object(a.createContext)({messageId:0,deleteChatId:0,searchValue:"",searchLastReplyTime:"",isSearchFirstLoad:!1,lastScrollUp:{lastReplyTime:"",hasNextReply:!1},lastScrollDown:{lastReplyTime:"",hasNextReply:!1},setMessageId:o.a,setDeleteChatId:o.a,setSearchValue:o.a,setSearchLastReplyTime:o.a,setIsSearchFirstLoad:o.a,setLastScrollUp:o.a,setLastScrollDown:o.a,resetSearchByReply:o.a}),u=function(t){var e=t.children,n=t.messageId,o=Object(a.useState)(n||0),u=Object(r.a)(o,2),d=u[0],s=u[1],l=Object(a.useState)(-1),f=Object(r.a)(l,2),p=f[0],b=f[1],h=Object(a.useState)(""),m=Object(r.a)(h,2),v=m[0],g=m[1],O=Object(a.useState)(""),y=Object(r.a)(O,2),S=y[0],k=y[1],j=Object(a.useState)(!1),I=Object(r.a)(j,2),C=I[0],x=I[1],w=Object(a.useState)({lastReplyTime:"",hasNextReply:!1}),E=Object(r.a)(w,2),N=E[0],D=E[1],P=Object(a.useState)({lastReplyTime:"",hasNextReply:!1}),A=Object(r.a)(P,2),R=A[0],T=A[1],L={messageId:d,deleteChatId:p,searchValue:v,searchLastReplyTime:S,isSearchFirstLoad:C,lastScrollUp:N,lastScrollDown:R,setMessageId:s,setDeleteChatId:b,setSearchValue:g,setSearchLastReplyTime:k,setIsSearchFirstLoad:x,setLastScrollUp:D,setLastScrollDown:T,resetSearchByReply:function(){k(""),g(""),x(!1),D({lastReplyTime:"",hasNextReply:!1}),T({lastReplyTime:"",hasNextReply:!1})}};return i.a.createElement(c.Provider,{value:L},e)}},823:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n(12),a=n(0),i=n.n(a),o={attachedItems:[],setAttachedItems:n(106).a},c=Object(a.createContext)(o),u=function(t){var e=t.children,n=Object(a.useState)([]),o=Object(r.a)(n,2),u=o[0],d=o[1];return i.a.createElement(c.Provider,{value:{attachedItems:u,setAttachedItems:d}},e)}},824:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return s}));var r=n(139),a=n(12),i=n(0),o=n.n(i),c=n(106),u={typings:[],onAddMessageTypings:c.a,onRemoveMessageTypings:c.a,isConnect:!1,setConnect:c.a},d=Object(i.createContext)(u),s=function(t){var e=t.children,n=Object(i.useState)([]),c=Object(a.a)(n,2),u=c[0],s=c[1],l=Object(i.useState)(!1),f=Object(a.a)(l,2),p=f[0],b=f[1],h=Object(i.useCallback)((function(t){s((function(e){return[].concat(Object(r.a)(e),[t])}))}),[]),m=Object(i.useCallback)((function(t){s(u.filter((function(e){return e!==t})))}),[u]);return o.a.createElement(d.Provider,{value:{typings:u,onAddMessageTypings:h,onRemoveMessageTypings:m,isConnect:p,setConnect:b}},e)}},890:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return s}));var r=n(12),a=n(0),i=n.n(a),o=n(582),c=n(106),u={socketClient:{isOpen:!1,send:c.a,close:c.a,init:c.a,url:"",onOpen:c.a,onMessage:{reply:c.a,readStatus:c.a,startTyping:c.a,stopTyping:c.a,sessionClose:c.a},onReconnect:c.a},setInitSocketClient:c.a,onSendMessage:c.a,onSendMessageRead:c.a,onSendStartTyping:c.a,onSendStopTyping:c.a},d=Object(a.createContext)(u),s=function(t){var e=t.children,n=Object(a.useState)(),c=Object(r.a)(n,2),u=c[0],s=c[1];return i.a.createElement(d.Provider,{value:{socketClient:u,setInitSocketClient:s,onSendMessage:function(t){null!=u&&u.isOpen&&u.send({code:o.Kb,data:t})},onSendMessageRead:function(t){null!=u&&u.isOpen&&u.send({code:o.Lb,data:{msg_id:t}})},onSendStartTyping:function(t){null!=u&&u.isOpen&&u.send({code:o.Ob,data:{msg_id:t}})},onSendStopTyping:function(t){null!=u&&u.isOpen&&u.send({code:o.Pb,data:{msg_id:t}})}}},e)}},899:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(1),o=n(60),c=n(664),u=n(1160),d=n(823),s=n(1161),l=n(596),f=n(921),p=n(890),b=n(824),h=n(12),m=n(25),v=n(70),g=n(3523),O=n.n(g),y=n(156),S=n(3524),k=n.n(S),j=n(1032),I=n(2),C=n(5),x=function(t,e){return Object(I.css)("position:fixed;right:6%;bottom:0;height:auto;padding:6px 20px;box-shadow:0 2px 6px 0 ",C.p,";color:",C.j,";border-radius:20px;font-size:16px;z-index:100;transition:all ease-in-out 0.2s;transform:translateY(",t?"20px":"-".concat(e,"px"),");opacity:",t?"0":"1",";span{display:flex;align-items:center;}.chatImgWrapper{position:relative;height:30px;}.chatImg{position:relative;left:0;top:0;width:28px;height:auto;transform:translateY(0);margin-right:8px;margin-bottom:2px;}.chatUnreadsCounter{position:absolute;border:solid 2px ",C.l,";background-color:",C.H,";color:",C.l,";top:-1px;right:1px;border-radius:18px;text-align:center;font-style:initial;font-size:8px;line-height:9px;font-weight:700;padding:2px 4px;}")},w=function(t,e,n){return Object(I.css)("max-height:calc(100vh - 233px);height:450px;width:560px;display:",e?"flex":"none",";position:fixed;right:6%;bottom:0;background-color:",C.l,";border-radius:12px;box-shadow:0 2px 30px 0 ",C.p,";z-index:",t?"99":"-1",";transition:all ease-in-out 0.2s;transform:translateY(",t?"-".concat(n,"px"):"0px",");opacity:",t?"1":"0",";font-family:Nunito Sans,Open Sans,Tahoma !important;a,p,span,li{font-family:Open Sans,Tahoma !important;}.leftSide{width:30%;display:flex;flex-direction:column;}.rightSide{width:70%;border-left:1px solid ",C.z,";}")},E=n(3525),N=function(){var t,e=Object(r.useContext)(l.a),n=e.noButton,i=e.bottom,o=e.attachedData,c=e.isTypeSeller,u=Object(r.useContext)(y.a),d=u.isDisplayedWidget,s=u.showChatWidget,f=u.isDisplayedWidgetDOM,p=u.closeChatWidget,b=Object(r.useState)(!0),g=Object(h.a)(b,2),S=g[0],I=g[1],C=Object(m.d)(k.a,{fetchPolicy:"network-only"}).data,N=(null==C||null===(t=C.notifications)||void 0===t?void 0:t.chat)||{},D=N.unreadsUser,P=N.unreadsSeller,A=c?P||0:D||0,R=Object(r.useCallback)((function(){var t=(null==o?void 0:o.page)||"";Object(j.a)(t),s&&s(o)}),[o,s]);return Object(r.useEffect)((function(){f&&S&&I(!1)}),[S,I,f]),Object(r.useEffect)((function(){return function(){p&&p()}}),[p]),a.a.createElement(a.a.Fragment,null,!n&&a.a.createElement(v.default,{className:x(d,i),onClick:R,filled:!0},a.a.createElement("div",{className:"chatImgWrapper","data-testid":"btnChatFloating"},a.a.createElement("img",{className:"chatImg",src:O.a,alt:"Chat"}),A>0&&a.a.createElement("span",{className:"chatUnreadsCounter"},A))," ","Chat"),S?null:a.a.createElement("div",{className:w(d,f,i)},a.a.createElement(E.a,{notificationData:C,totalChatUnreads:A})))},D={gqlHostGo:i.string.isRequired,gtmPushObject:i.func.isRequired,noButton:i.bool,userId:i.number},P=function(t){var e=t.userId;return(void 0===e?0:e)>0?a.a.createElement(o.a,{source:"pluggables_chat_widget",render:function(){return null}},a.a.createElement(l.b,t,a.a.createElement(c.b,null,a.a.createElement(p.b,null,a.a.createElement(b.b,null,a.a.createElement(u.b,null,a.a.createElement(d.b,null,a.a.createElement(s.b,null,a.a.createElement(f.b,null,a.a.createElement(N,null)))))))))):null};P.propTypes=D,P.defaultProps={noButton:!1,userId:0};e.default=P},921:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f}));var r=n(12),a=n(0),i=n.n(a),o=n(2),c=n(31),u=n.n(c),d=n(106),s=Object(o.css)("overflow:hidden;"),l=Object(a.createContext)({handleOpenModal:d.a,handleCloseModal:d.a,modalContent:"",displayModal:!1}),f=function(t){var e=t.children,n=t.modalContent,o=t.displayModal,c=Object(a.useState)(null!=o&&o),d=Object(r.a)(c,2),f=d[0],p=d[1],b=Object(a.useState)(n||""),h=Object(r.a)(b,2),m=h[0],v=h[1];return Object(a.useEffect)((function(){return function(){document.body.classList.remove(s)}}),[]),i.a.createElement(l.Provider,{value:{handleOpenModal:function(t){v(t),p(!0),u.a&&document.body.classList.add(s)},handleCloseModal:function(){p(!1),u.a&&document.body.classList.remove(s)},modalContent:m,displayModal:f}},e)}}}]);