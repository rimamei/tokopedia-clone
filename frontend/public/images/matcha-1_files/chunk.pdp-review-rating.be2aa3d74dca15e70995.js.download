(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[372],{1045:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(1),o=n(35),c=function(e,t,n){console.warn("[UNIFY] ".concat(e,": '").concat(t,"' property are deprecated, please use prop '").concat(n,"' instead."))},l=n(2),u=n(5),d=n(23),s=function(e,t,n){var r=t.length;if(void 0===n){if(0===e)return;if(e===r-1)return"translateX(-100%)"}return"translateX(-50%)"},f=Object(l.default)("div",{target:"eejz59o0"})("label:unf-PB;overflow:hidden;margin:",(function(e){var t=e.margin;return t||void 0}),";padding:",(function(e){var t=e.padding;return t||void 0}),";"),p=Object(l.css)("label:unf-PBB;display:flex;align-items:center;"),m=Object(l.default)("div",{target:"eejz59o1"})("width:100%;border-radius:4px;overflow:hidden;transition:background-color 280ms ease,height 280ms ease;height:",(function(e){return function(e,t){return t?"8px":Object(o.i)(e,{large:"8px",medium:"6px",small:"4px"},"6px")}(e.size,e.large)}),";background-color:",(function(e){var t=e.backgroundColor;return t||u.z}),";"),v=Object(l.default)("div",{target:"eejz59o2"})("height:100%;border-radius:4px;transition:width 280ms ease,background-color 280ms ease;width:",(function(e){var t=e.value;return t||0}),"%;background-color:",(function(e){return function(e){return Object(o.i)(e,{red:u.G,green:u.j,orange:u.R},u.j)}(e.color)}),";"),g=Object(l.css)("min-width:35px;flex:1 0 auto;font-size:",d.e,";font-weight:",d.k,";line-height:",d.o,";margin-left:8px;"),b=Object(l.default)("div",{target:"eejz59o3"})("label:unf-PBI;width:100%;margin-top:",(function(e){return e.sideIndicator?2:8}),"px;transition:width 280ms ease;will-change:width;"),y=Object(l.css)("display:flex;position:relative;& + &{margin-top:",2,"px;}"),h=Object(l.default)("div",{target:"eejz59o4"})("width:0;display:flex;position:relative;left:",(function(e){var t=e.index,n=e.array,r=e.position;return"".concat(void 0!==r?r:100/(n.length-1)*t,"%")}),";&.unf-js-pbie-start{left:0%;}&.unf-js-pbie-end{left:100%;}"),j=Object(l.default)("div",{target:"eejz59o5"})("width:",6,"px;height:",6,"px;background-color:",u.n,";border-radius:3px;flex:1 0 6px;will-change:transform;display:",(function(e){return e.pointer?void 0:"none"}),";opacity:",(function(e){return e.pointerOpacity}),";transform:",(function(e){var t=e.index,n=e.array,r=e.position;return s(t,n,r)}),";.unf-js-pbie-start &{transform:translateX(0%);}.unf-js-pbie-end &{transform:translateX(-100%);}"),O=Object(l.default)("div",{target:"eejz59o6"})("color:",u.eb,";font-size:",d.e,";line-height:",d.o,";white-space:nowrap;will-change:transform;margin-top:",(function(e){return e.pointer?void 0:"-".concat(8,"px")}),";transform:",(function(e){var t=e.index,n=e.array,r=e.position;return s(t,n,r)}),";.unf-js-pbie-start &{transform:translateX(0%);}.unf-js-pbie-end &{transform:translateX(-100%);}");function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){a=!0,i=l}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var R=function(e){var t=e.backgroundColor,n=e.color,i=e.indicator,l=e.large,u=e.margin,d=e.padding,s=e.progress,S=e.sideIndicator,R=e.size,I=e.value,N=e.onChange,P=x(e,["backgroundColor","color","indicator","large","margin","padding","progress","sideIndicator","size","value","onChange"]),z=!!(i&&i.length>0),A=E(Object(r.useState)(I>s?I:s),2),D=A[0],F=A[1],C=Object(r.useRef)(I>s?I:s),T=Object(r.useRef)(null),_=Object(r.useRef)(null),L=Object(r.useRef)(z?i.map((function(){return Object(r.createRef)()})):null),Q=Object(r.useRef)(z?i.map((function(){return Object(r.createRef)()})):null);s&&c("ProgressBar","progress","value"),l&&c("ProgressBar","large","size"),Object(r.useEffect)((function(){C.current=D,F(I>s?I:s)}),[s,I]);var B=C.current,W=function(){var e=_.current,t=T.current.offsetWidth;e.style.width="".concat(t,"px")},M=function(e){var t=_.current.offsetWidth,n="pointer"===e?L.current:Q.current;i.map((function(e,r){if(void 0!==e.position){var a=n[r].current;if(a){var i=a.offsetLeft,c=a.children[0].offsetWidth,l=(i+c/2)/t*100;(i-c/2)/t*100<=0?Object(o.a)("unf-js-pbie-start",a):Object(o.f)("unf-js-pbie-start",a),l>=100?Object(o.a)("unf-js-pbie-end",a):Object(o.f)("unf-js-pbie-end",a)}}}))},V=Object(o.c)(W,280);Object(r.useEffect)((function(){return S&&z&&window.addEventListener("resize",V),function(){window.removeEventListener("resize",V)}}),[i,S]),Object(r.useEffect)((function(){S?z&&setTimeout((function(){return W()}),280):z&&setTimeout((function(){_.current.style.width=""}),280)}),[u,d,S]),Object(r.useEffect)((function(){z&&(M("pointer"),M("content"))}),[i]),Object(r.useEffect)((function(){N&&N(D,B)}),[D]);var X,U=function(e,t){return i.map((function(n,r,i){var o={index:r,array:i},c=n.content,l=n.pointer,u=void 0===l||l,d=n.pointerOpacity,s=n.position;return a.a.createElement(h,w({key:r,innerRef:e.current[r],position:s},o),"pointer"===t?a.a.createElement(j,w({pointer:u,pointerOpacity:d,position:s},o)):a.a.createElement(O,w({pointer:u,position:s},o),c||n))}))};return a.a.createElement(f,w({margin:u,padding:d,"data-unify":"ProgressBar"},P),a.a.createElement("div",{className:p},a.a.createElement(m,{innerRef:T,backgroundColor:t,large:l,size:R},a.a.createElement(v,{role:"progressbar","aria-valuenow":D,"aria-valuemin":0,"aria-valuemax":100,color:n,value:D})),S&&("number"===(X=k(S))?a.a.createElement("div",{className:g},"".concat(S,"%")):"string"===X||Object(r.isValidElement)(S)?a.a.createElement("div",{className:g},S):null)),z&&a.a.createElement(b,{sideIndicator:S,innerRef:_},a.a.createElement("div",{className:y},U(L,"pointer")),a.a.createElement("div",{className:y},U(Q,"content"))))};R.propTypes={backgroundColor:i.string,color:i.string,indicator:Object(i.arrayOf)(Object(i.oneOfType)([i.string,i.number,Object(i.shape)({content:Object(i.oneOfType)([i.string,i.number,i.node]),pointer:i.bool,pointerOpacity:i.number,position:i.number}),i.node])),large:i.bool,margin:i.string,padding:i.string,progress:i.number,sideIndicator:Object(i.oneOfType)([i.string,i.number,i.node]),size:i.string,value:i.number,onChange:i.func},R.defaultProps={color:"green",large:!1,size:"medium",value:0,progress:0};t.a=R},2497:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(50),o=n(1045),c=n(25),l=n(44),u=n(797),d=n(660),s=n(976),f=n(843),p=n(4485),m=n.n(p),v=n(1910),g=n.n(v),b=n(1908),y=n(2310);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,i=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(l){c=!0,a=l}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t,n,p,v,j=e.productId,O=e.setRatingWithImage,w=e.setRatingStar,k=Object(r.useContext)(l.a).lang,E=h(Object(r.useContext)(d.a),2)[1],S=Object(c.d)(m.a,{variables:{productId:j}}),x=S.data,R=S.loading,I=S.error,N=null==x||null===(t=x.ProductRatingQuery)||void 0===t?void 0:t.totalRating,P=null==x||null===(n=x.ProductRatingQuery)||void 0===n?void 0:n.ratingScore,z=null==x||null===(p=x.ProductRatingQuery)||void 0===p?void 0:p.totalRatingWithImage,A=(null==x||null===(v=x.ProductRatingQuery)||void 0===v?void 0:v.detail)||[];return Object(r.useEffect)((function(){R||E({type:"SET_LOADING_STATE",payload:{key:"reviewRating",value:!1}})}),[R,E]),Object(r.useEffect)((function(){var e,t,n,r,a;N&&(O(z),w([(null==A||null===(e=A[4])||void 0===e?void 0:e.totalReviews)||0,(null==A||null===(t=A[3])||void 0===t?void 0:t.totalReviews)||0,(null==A||null===(n=A[2])||void 0===n?void 0:n.totalReviews)||0,(null==A||null===(r=A[1])||void 0===r?void 0:r.totalReviews)||0,(null==A||null===(a=A[0])||void 0===a?void 0:a.totalReviews)||0]))}),[A,N,z,O,w]),R?a.a.createElement(b.a,null):I||N<=0?null:a.a.createElement(a.a.Fragment,null,a.a.createElement(u.a,{items:[{valign:"center",content:a.a.createElement("div",{className:y.a},a.a.createElement("h5",{className:y.c,"data-testid":"txtRatingScore"},P,a.a.createElement("span",null,"/5")),a.a.createElement(f.m,{starSize:20,starValue:Math.round(parseFloat(P)),"data-testid":"icnRatingScore".concat(Math.round(parseFloat(P)))}),a.a.createElement(i.a,{body:3,alternate:!0,margin:"10px 0 0","data-testid":"txtTotalReview"},"(",N,") ",s.q[k]))},{valign:"center",padding:"0 0 0 72px",content:a.a.createElement("div",{className:y.b},A.map((function(e,t){var n=e.rate,r=e.percentage,c=e.totalReviews;return a.a.createElement(u.a,{key:t,wrapperMargin:"0 0 8px",items:[{noShrink:!0,valign:"center",width:"30px",content:a.a.createElement(i.a,{bold:!0,body:3,alternate:!0,margin:"0","data-testid":"icnStar".concat(n)},a.a.createElement(f.g,{url:g.a,iconWidth:"16px",iconHeight:"16px",iconMargin:"0 5px 0 0"}),n)},{noShrink:!0,width:"170px",valign:"center",padding:"0 10px",content:a.a.createElement(o.a,{progress:parseFloat(r),backgroundColor:"linear-gradient(to right, #FFE079, #FFC400)"})},{noShrink:!0,valign:"center",content:a.a.createElement(i.a,{body:3,alternate:!0,margin:"0","data-testid":"icnStar".concat(n,"-").concat(c)},c)}]})})))}]}))};t.default=Object(r.memo)(O)},4485:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PDPReviewRatingQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ProductRatingQuery"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productId"},value:{kind:"Variable",name:{kind:"Name",value:"productId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ratingScore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalRating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalRatingWithImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"detail"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalReviews"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:168}};n.loc.source={body:"query PDPReviewRatingQuery($productId:Int!){ProductRatingQuery(productId:$productId){ratingScore totalRating totalRatingWithImage detail{rate totalReviews percentage}}}",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var a={};function i(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),a[e.name.value]=t}})),e.exports=n,e.exports.PDPReviewRatingQuery=function(e,t){var n={kind:e.kind,definitions:[i(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=a[t]||new Set,o=new Set,c=new Set;for(r.forEach((function(e){c.add(e)}));c.size>0;){var l=c;c=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(a[e]||new Set).forEach((function(e){c.add(e)})))}))}return o.forEach((function(t){var r=i(e,t);r&&n.definitions.push(r)})),n}(n,"PDPReviewRatingQuery")}}]);