(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[373],{1411:function(e,t){e.exports="https://assets.tokopedia.net/assets-tokopedia-lite/v2/zeus/kratos/3ac8f50c.svg"},1551:function(e,t,n){"use strict";var r=n(0),a=n(198),o=n(619),i=n(682),l=n(660),u=n(1532);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){l=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(){var e,t=Object(r.useContext)(o.a),n=t.isLoggedIn,s=t.productInfoBasic,d=t.productHasVariant,m=t.productCampaign,f=t.productImages,p=Object(r.useContext)(i.a),v=p.variantDefaultChild,h=p.variantData,b=p.selectedChildren,y=c(Object(r.useContext)(l.a),2)[1],g=Object(r.useContext)(a.a).showChatWidget,E=Object(u.a)({productHasVariant:d,productCampaign:m,productInfo:s,selectedVariant:b}),O=Object(r.useMemo)((function(){var e;return null==b||null===(e=b.optionID)||void 0===e?void 0:e.map((function(e,t){var n,r=h[t],a=null==r||null===(n=r.option)||void 0===n?void 0:n.find((function(t){return Number(t.productVariantOptionID)===e}));return{identifier:null==r?void 0:r.identifier,position:t+1,name:null==r?void 0:r.name,option:{value:null==a?void 0:a.value,hex:null==a?void 0:a.hex}}}))}),[b,h]),C=(null==f?void 0:f[0])||{},S=C.prefix,A=C.suffix,k="".concat(S,"700").concat(A),I={page:"pdp",shopId:Number(s.shopID),attachedItems:[{type:"product",id:Number(E.productId),image_url:(null===(e=b.picture)||void 0===e?void 0:e.urlOriginal)||k,name:b.productName||s.name,url:b.productURL||s.url,price:Number(E.priceUnformatted),variant:O,defaultChild:Number(v)}]};return{toggleChat:function(){n?g(I):y({type:"SET_SHOW_LOGIN_POPUP",payload:!0})}}};d.propTypes={},t.a=d},1660:function(e,t,n){"use strict";var r=n(4),a=Object(r.a)({resolved:{},chunkName:function(){return"choose-address-modal"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.all([n.e(8),n.e(12),n.e(46),n.e(541),n.e(137)]).then(n.bind(null,1563))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 1563}},{fallback:null,ssr:!1});t.a=a},1992:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var r="50501",a="50503",o=["50502","50504",r,a]},2440:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),i=n(577),l=n(598),u=n(50),c=n(639),s=n(569),d=n.n(s),m=n(1660),f=n(592),p=n.n(f),v=n(1531),h=n(1551),b=n(617),y=n(660),g=n(619),E=n(763),O=n(682),C=n(1992),S=n(1246),A=n(4302),k=n.n(A),I=n(1411),_=n.n(I),j=n(4303),D=n(2319),x=n(2320);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){l=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t,n=e.layoutTracker,s=w(Object(r.useState)(!1),2),f=s[0],A=s[1],I=w(Object(r.useContext)(y.a),2),N=I[0].chooseAddressInfo,L=I[1],T=Object(r.useContext)(g.a),H=T.productInfoBasic,B=T.productSnapshot,P=Object(r.useContext)(O.a),U=P.selectedChildren,M=P.selectedVariantID,R=Object(r.useContext)(E.a),V=R.ratesEstimate,q=R.productShopInfo,K=R.isP2Loading,F=Object(r.useContext)(S.a).warehouseInfo,z=Object(h.a)().toggleChat,W=N.showChooseAddress,$=Boolean(U.isCOD||B.isCOD),G=Boolean(null==F?void 0:F.is_fulfillment),J=String(M>0?M:H.id),Q=V.find((function(e){return e.products.includes(J)}))||V[0]||{},X=Q.data,Y=void 0===X?{}:X,Z=Q.bottomsheet,ee=Y.errors,te=Y.eTAText,ne=Y.courierLabel,re=Y.title,ae=Y.subtitle,oe=(null==ee?void 0:ee.length)>0,ie=String(null==ee||null===(t=ee[0])||void 0===t?void 0:t.code),le=ne||$,ue=function(e,t){return a.a.createElement(l.a,{placement:"bottom",text:t},a.a.createElement(i.default,{margin:"0 4px 0 0",textColor:"".concat(d()(o.x,.68)),backgroundColor:o.u},e))};Object(r.useEffect)((function(){oe&&L({type:"SET_CHOOSE_ADDRESS",payload:{invalidAddress:!0,errorData:Z,errorCode:ie}})}),[oe,L,ie,re,ae,Z]);var ce=function(){L({type:"SET_CHOOSE_ADDRESS",payload:{showChooseAddress:!0}}),A(!1)},se=function(){L({type:"SET_CHOOSE_ADDRESS",payload:{showChooseAddress:!1}})};return K?a.a.createElement(D.a,null):oe&&!C.a.includes(ie)?a.a.createElement(c.a,{title:"Ongkir gagal ditampilkan",onClick:function(){return window.location.reload()}},"Klik ikon di samping untuk coba lagi"):a.a.createElement("div",{className:x.a},a.a.createElement(u.a,{tag:4,main:!0,margin:"0 0 12px"},"Pengiriman"),a.a.createElement("div",null,G?a.a.createElement("div",{className:"".concat(x.d," pad-bottom")},a.a.createElement("img",{src:_.a,alt:""}),a.a.createElement("div",null,a.a.createElement("div",null,"Dilayani oleh ",a.a.createElement("b",null,"Tokopedia")),a.a.createElement("div",{className:"muted"},"Barang dikirim dari gudang terdekat dengan alamatmu"))):a.a.createElement("div",{className:"".concat(x.d," pad-bottom")},a.a.createElement("img",{src:_.a,alt:""}),a.a.createElement("div",null,"Dikirim dari ",a.a.createElement("b",null,q.location))),a.a.createElement("div",{className:x.d,"data-testid":"pdpShipmentContent"},a.a.createElement("img",{src:k.a,alt:""}),a.a.createElement("div",null,oe?a.a.createElement("div",{className:x.c,onClick:function(e){e.preventDefault(),oe&&ie===C.c?z():(ie===C.b&&Object(b.a)({clickAction:"lengkapi alamat on shipping component",eventLabel:"message:".concat(Object(v.a)(ae),";"),layoutTracker:n}),ce())},dangerouslySetInnerHTML:{__html:p()(ae)},"data-testid":"lblErrorShipment"}):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:p()(re)}}),a.a.createElement("div",{className:"muted"},te),a.a.createElement("div",{className:Object(x.b)(le)},le&&a.a.createElement("div",{className:"courier-info"},ae),ne&&ue(ne,"Bisa terima barang di hari yang sama (khusus kurir tertentu)"),$&&ue("COD","Bisa bayar saat barang diterima (khusus kurir tertentu)"),a.a.createElement("span",{onClick:function(){Object(b.a)({clickAction:"lihat kurir lainnya",eventLabel:"title:".concat(re,";labelShipping:").concat(ne,";cod:").concat($,";"),layoutTracker:n,extraFields:{productId:H.id,shopId:H.shopID}}),A(!0)},"data-testid":"btnShowShipmentModal"},"Lihat Pilihan Kurir"))))),f&&a.a.createElement(j.a,{show:f,onClose:function(){return A(!1)},onShowChooseAddress:ce}),a.a.createElement(m.a,{source:"pdp",display:W,onClose:se,onFinish:se})))}},4302:function(e,t){e.exports="https://assets.tokopedia.net/assets-tokopedia-lite/v2/zeus/kratos/8dcc624f.svg"},4303:function(e,t,n){"use strict";var r=n(4),a=Object(r.a)({resolved:{},chunkName:function(){return"pdp-shipment-modal"},isReady:function(e){var t=this.resolve(e);return!1!==this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(374).then(n.bind(null,2640))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return 2640}},{fallback:null});t.a=a}}]);